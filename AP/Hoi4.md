# توضیحات بازی
قلب‌هایی از آهن (Hearts of Iron)  یک بازی گرند استراتژیک است که هدف مدیریت منابع اقتصادی، انسانی و طبیعی یک کشور است و قرار می‌باشد که از نظر سیاسی، اقتصادی و نظامی سرزمین خود را به قوی‌ترین کشور تبدیل کنید. 
گیم‌پلی اصلی این بازی دارای بی‌نهایت پیچیدگی است. شما قرار است یک نسخه ساده‌شده‌ی آن را پیاده‌سازی بکنید.

![HOI4](https://forumcontent.paradoxplaza.com/public/761722/1637078444238.png)

هر بازیکن در ابتدا بازی یک کشور را برای مدیریت انتخاب می‌کند و هر کشور دارای چندین منطقه است که در طول بازی خصوصیات آن‌ها معین می‌شوند. در بازی اصلی شما تمام کشور های موجود در دوران جنگ جهانی دوم را 
می‌توانید انتخاب کنید. برای سادگی ما نقشه زیر را برای بازی در نظر گرفته‌ایم.

![world map](https://s33.picofile.com/file/8483030092/Group_35092.png)

---
در هر یک از بخش‌های برنامه اگر عبارتی وارد شد، به ترتیب ذکر شده خطا‌ها را چک کنید و فقط اولین خطای رخ داده را چاپ کنید. اگر که دستور متناظر با آن وجود نداشت عبارت

    invalid command
   را خروجی دهید.

*توجه شود که دستورات ممکن است با white space اضافه داده شوند.*
*توجه شود خطاهای هر بخش به همان ترتیبی که اینجا بیان شده است چک می‌شوند و فقط لازم است اولین خطا را چک بنمایید.*

*در تمام قسمت‌هایی که گفته شده اسم دلخواه وارد کنید برای مثال برای ساخت گردان و کارخانه، تضمین می‌شود تست عجیبی داده نشود. مثلا وایت اسپیس وسط اسم و غیره.*

*در تمام بخش‌های بازی به جز نام کشورها ، اسم‌های از پیش داده شده به صورت lower-case در تست‌ها داده می‌شود. در بخش‌های مربوطه مثال‌هایی که آورده شده برای اشتباه نکردن این موضوع کفایت می‌کنند.*

*در تمام بخش‌های بازی مقدار int مدنظر است. بعد از هر ضرب و تقسیم مقدار int ذخیره کنید. اگر محاسباتی دارای چند مرحله ضرب و تقسیم بود، در هر مرحله مقدار حساب شده را floor کنید.*

همچنین در هر منویی که باشیم با دستور

    show current menu
   می‌توانیم منویی که درحال حاضر در آن هستیم را مشاهده کنیم که یکی از حالت‌های زیر را دارد:

    login menu
    signup menu
    leaderboard menu
    main menu
    game menu

  ترتیب منوها پس از آغاز برنامه به این صورت است:
  signup menu -> login menu -> main menu -> game menu
*ورود به leaderboard menu از main menu  و خروج از آن هم به main menu است پس به منوهای دیگر راه ندارد.*

   برای خروج از main menu و ورود به signup menu دستور

    logout
   وارد کنید.

برای خروج از login menu و ورود به signup menu دستور
```
back
```


همچنین برای خروج از leader board menu و بازگشت به main menu دستور

    back

   و در هر صفحه برای خروج کامل و اتمام پردازش برنامه دستور 

    exit

   باقی دستورات در بخش مربوطه گفته خواهد شد.

---
# منوی ثبت‌نام (Signup Menu)
## ثبت‌نام
در این منو هر کاربر می تواند با دستور

    register -username <username> -password <password> -email <email> 
   به عنوان کاربر جدید به بازی اضافه شود و وارد منوی login بشود.

1.  بخش username تنها می‌تواند شامل حروف کوچک و بزرگ ٰانگلیسی، عدد و همچین آندرلاین باشد.
2. حرف اول username نمیتواند آندرلاین یا عدد باشد.
3.  بخش password باید دارای حداقل 8 کاراکتر و حداکثر 20 کاراکتر باشد و همچنین حداقل یک کاراکتر از میان کاراکترهای %@#$^&! را داشته باشد. رمز عبور نباید با کاراکتری غیر از حروف کوچک یا بزرگ انگلیسی شروع شود و نباید دارای فاصله یا کاراکتر اسپیس باشد.
4.  بخش ایمیل باید به به صورت [mail>@<domain>.com>](mailto:fozoli@dadash?.com) باشد و بخش های mail و domain نباید خالی باشند. بخش mail آن نیز تنها می‌تواند دارای حروف کوچک و بزرگ انگلیسی، اعداد و "." باشد. بخش <mail> نباید بیش از یکبار کاراکتر `.` را داشته باشد.

## خطاها

اگر username دارای ساختار نادرست بود عبارت زیر چاپ شود:

    invalid username
اگر کاربری با username گفته شده وجود داشت:

    username is already taken

 اگر password کوتاه یا بلند بود:

    invalid length

  اگر password دارای کارکتر اسپیس یا فاصله بود:

    don't use whitespace in password   

 اگر password با حروفی به جز حروف کوچک و بزرگ انگلیسی شروع شد:

    password must start with English letters
   اگر پسورد دارای هیچکدام از %@#$^&! نبود:

    password doesn't have special characters
اگر ایمیل دارای ساختار گفته شده نبود:

    invalid email format
در غیر این صورت ثبت‌نام با موفقیت انجام می‌شود و پیام زیر چاپ می‌شود و به طور خودکار وارد منوی لاگین (login) می‌شویم.
```
user registered successfully
```

## رفتن به منوی لاگین (login menu)

برای ورود مستقیم به منوی لاگین بدون ثبت‌نام کردن:
```
login
```

---
# منوی لاگین (Login Menu)
## **ورود کاربر** 
کاربر می‌تواند با وارد کردن دستور:
```
login -username <username> -password <password>
```

وارد منوی اصلی (main menu) شود.

## **خطاها :**

اگر کاربری با نام کاربری داده شده وجود نداشت باید خطای زیر را نمایش داده شود:
```
username doesn't exist!
```

اگر کلمه عبور داده شده اشتباه بود باید خطای زیر را نمایش دهید:
```
password is incorrect!
```

*در صورتی که کاربر با خطایی مواجه نشد، با موفقیت وارد می‌شود و پس از چاپ پیام زیر، وارد منوی اصلی می‌شود.*
```
user logged in successfully
```

## **فراموشی رمز عبور** 
کاربر می‌تواند با دستور زیر از قابلیت فراموشی رمز عبور استفاده کند و رمز عبور خود را ببیند:
```
forget-password -username <username> -email <email>
```

## **خطاها :**

اگر کاربری با نام کاربری داده شده وجود نداشت باید خطای زیر را نمایش داده شود:
```
username doesn't exist!
```

اگر ایمیل داده شده اشتباه بود باید خطای زیر را نمایش دهید:
```
email doesn't match!
```

*در صورتی که کاربر با خطایی مواجه نشد،  رمز عبور  کاربر در قالب زیر نمایش داده شود.*
```
password: <password>
```

---
# **منوی اصلی بازی (Main Menu)**
پس از لاگین کردن وارد این منو می‌شوید.

برای ورود به منوی leaderboard دستور زیر را بزنید:
```
leaderboard
```

برای شروع کردن بازی لازم دستور زیر را وارد کرده و چند یوزر حریف را به اختیار برای بازی کردن انتخاب کنید. توجه کنید که انتخاب کردن یوزر حریف اختیاری است و میتوانید بین 0 تا 4 یوزر موجود را که از پیش ثبت‌نام کرده‌اند انتخاب کنیم.
باقی بازیکنان بازی به صورت مهمان و با آیدی‌های guest1 , guest2 ... در می‌آیند.

```
play <user1> <user2> <user3> <user4>
```

برای مثال به عنوان یوزر "kiarash" لاگین هستیم و می‌خواهیم با 2 یوزر دیگر بازی را شروع کنیم :
```
play amirhossein sana
```

آن وقت بازی با این بازیکنان به ترتیب شروع می‌شود و هر بازیکن کشورش را انتخاب می‌کند:
```
kiarash
amirhossein
sana
guest1
guest2
```

در رابطه با بازیکنان guest در بخش توضیحات game menu بیشتر توضیح داده خواهد شد.

## **خطاها **
اگر یکی از یوزرهای انتخاب شده موجود نبود خطای زیر:
```
select between available users
```

اگر یوزر تکراری در لیست واردشده وجود داشت خطای زیر:
```
users must be distinct
```

اگر یکی از یوزرهای وارد شده همان یوزری باشد که با آن لاگین کرده‌ایم خطای زیر:
```
you can't choose urself
```

در نهایت اگر خطایی رخ نداد پس از چاپ پیغام زیر وارد game menu می‌شوید:
```
aghaaz faAliat
```

---
# منوی لیدربورد (Leaderboard Menu)

در منوی لیدربورد باید لیست پلیرها و امتیازها را چاپ کنید. همچنین تاریخچه‌ی بازی‌ها نیز باید قابل دسترسی باشد.

با دستور زیر لیست یوزرها به همراه امتیاز آن‌ها چاپ می‌شود. اگر امتیاز چند یوزر یکی بود، به ترتیب یوزرنیم آن‌ها چاپ می‌شود. (lexicography)

دستور زیر برای چاپ لیست پلیر و امتیازها:
```
show ranking
```

خروجی:
```
Leaderboard:
<username> <points>
<username> <points>
<username> <points>
.
.
.
```

توجه شود که بازیکنان guest در رنکینگ نباید باشند.

با دستور زیر تاریخچه بازی‌ها چاپ می‌شود. باید 5 بازی اخیر به ترتیب جدیدترین به قدیمی‌ترین چاپ شود.
```
show history
```

خروجی:
```
History:
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
----
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
<username> <controlling-country> <earned-points>
----
.
.
.
```

باید در خروجی لیست یوزرهای بازی کرده، به ترتیبی که در بخش game menu گفته می‌شود چاپ شوند. همچنین کشوری که آن را کنترل کرده‌اند در جلوی آن‌ها نوشته شود. در آخر نیز، امتیازی که از آن بازی کسب کردند را می‌نویسیم.

توجه شود که بعد از چاپ کردن اطلاعات بازی آخر ، عبارت "----" چاپ نمی‌شود. در واقع نسخه کوتاه خروجی در حالتی که تعداد کل بازی‌های انجام شده بیشتر یا مساوی 5 تا است به این صورت می‌باشد:
```
History:
detail1
----
detail2
----
detail3
----
detail4
----
detail5
```

تعداد عبارت های "-" 4 تا است.

اگر هیستوری‌ای برای نمایش وجود نداشت خالی می‌گذاریم:
```
History:
```

---
# منوی بازی (Game Menu)

در ابتدای بازی هر بازیکن به ترتیب گفته شده (ابتدا بازیکن لاگین شده -> بازیکنان انتخابی -> مهمانان) باید کشور خود را انتخاب کنند. انتخاب کشور بین گزینه های زیر است:

```
German Reich
United States
Soviet Union
Japan
United Kingdom
```


در شروع بازی عبارت زیر به ازای هر بازیکن چاپ می‌شود و بازیکنان کشور خود را انتخاب می‌کنند.

```
choosing country for <username>:
```

و هرکس باید اسم کشور خود را در نوبت خود در خط جدید وارد کند.

## **خطاها**

اگر اسم کشور انتخابی بین ۵ عبارت بالا نبود:

```
wrong country name
```


اگر بازیکنی کشور تکراری انتخاب بکند:

```
country already taken
```

اگر خطایی رخ ندهد پیامی چاپ نمی‌شود و نوبت دست بازیکن اول است و برنامه منتظر وارد شدن دستور می‌ماند.

## تعویض بازیکن

در ابتدای بازی شما به عنوان یوزر اول بازی می‌کنید. یعنی کنترل کشوری که یوزر اول انتخاب کرده است را در دست دارید و دستورات وارد شده شما برای آن کشور کار می‌کند. برای رفتن روی بازیکنان دیگر و به دست گیری کنترل کشور‌های دیگر:

```
switch player <username>
```


## **خطاها**

اگر یوزرنیم وارد شده ناموجود بود:

```
player doesn't exist
```


اگر بازیکن اسم خودش را وارد کرد:

```
you can't switch to yourself
```

اگر خطایی رخ نداد:

```
switched to <username>
```

---
## کشور‌ها (Countries)

<details>
<summary>
توجه
</summary>
کشور های بازی به صورت ثابت مشخص هستند و ۵ حالت گفته شده را دارند. 
بدیهتا می‌توانید کشورها رو هارد-کد کنید ولی کار خودتون سخت میشه. (این یعنی مثل آدمیزاد oop پیادش کنید.)
</details>

متغیرهای مربوط به هر کشور به این صورت است:

**رهبر**: هسته‌ی مرکزی یک دولت است که بر حسب ایدئولوژی منحصر به فرد خود بر روندهای مختلف بازی موثر خواهد بود.

**ثبات (Stability)**: این یک مقدار درصدی است که نشان می‌دهد دولت یک کشور چقدر ثبات دارد. این مقدار در طی اتفاقاتی مانند شکست در جنگ‌ها کم می‌شود. اگر این مقدار به زیر 50% برسد ، وارد کردن دستور جدید برای بازیکن قفل خواهد شد و مجبور به برگزاری انتخابات جدید و تعیین رهبر جدید می‌شود.

**تایل‌ها**: هر کشور مجموعه‌ای از تایل هارو دارد که در نقشه داده شده ایندکس‌های آن مشخص است. برای توضیحات تکمیلی به بخش زمین‌ها مراجعه کنید.

**منابع**: هر کشور منابع مختلفی دارد که در بخش های مختلف بازی برای ساخت کارخانه، گردان، استخراج منابع دیگر و ... استفاده می‌شود. منابع هر کشور شامل زیر است:

- منابع انسانی (Man Power): شامل جمعیت هر کشور است.
- سوخت (Fuel): در جاهایی مثل ساخت گردان استفاده می‌شود.
- آهن (Iron)
- گوگرد(sulfur)

توجه شود که منابع را به صورت int نگهداری کنید.

میزان منابع اولیه‌ای که به کشورها تعلق می‌گیرد به این صورت است:

![resources](https://s33.picofile.com/file/8483161184/Group_35103.png)

<details>
<summary>
نکته
</summary>
از انگلیس بدم میاد.
</details>

**پاپت (Puppet)** : به کشوری پاپت می‌گویند که کنترلش دست کشور دیگر است. برای اینکه یک کشور را پاپت خود کنیم شرایطی وجود دارد که در بخش مربوطه توضیح داده خواهد شد.

**جناح (Faction)** : هر کشور می‌تواند عضو یک یا چند جناح باشد که از مزایایی برخوردار می‌شوند. در ابتدای بازی هیچ جناحی وجود ندارد.

---
### رهبر (Leader)

هر کشور چند گزینه برای رهبر دارد که لیست آن‌ها در زیر آورده شده است. رهبرها در ایدئولوژی‌ها متفاوتند.

![Leaders](https://s33.picofile.com/file/8483207718/leaders.png)

رهبرهای اولیه هر کشور در ابتدای بازی با رنگ قرمز نشان داده شده‌اند.

تعویض رهبرها فقط با برگزاری انتخابات میسر است. انتخابات زمانی برگزار می‌شود که ثبات کشور از حدی کمتر باشد. توضیحات بیشتر در بخش مربوطه داده شده است.

![leaderscards](https://s33.picofile.com/file/8483228850/leaderscards.png)

---
### زمین‌ها (Tiles)

<details>
<summary>
توجه
</summary>
اسم فارسی زمین‌هارو نوشتم ولی در طول داک بهش میگم **تایل** پس قاطی نکنید.
</details>

نقشه‌ی بازی رو دوباره برای راحتی اینجا می‌گذاریم:![map](https://s33.picofile.com/file/8483030092/Group_35092.png)

همانطور که می‌بینید بازی ۵۶ زمین دارد که هرکدام جز مرز یک کشور مشخص است. زمین های بازی برای راحتی کار شما از پیش تعیین شده و شما برای کار کردن با این تایل‌ها باید یک سری ویژگی برای هرکدام مشخص کنید.

**ایندکس**: هر تایل با یک عدد شناخته می‌شود که در طول بازی با این عددها تایل‌ها را بررسی می‌کنیم. مثلا شوروی تایل‌های ۱ تا ۱۶ را در ابتدای بازی دارد.

**مالک**: هر تایل برای یک کشور است که در طول روند بازی ممکن است تغییر کند. مالکان اولیه در نقشه مشخص هستند.

**همسایه زمینی**: تایل‌ها با تایلی که با آن ضلع مشترک دارند همسایه زمینی‌اند. (راس مشترک فاقد هرگونه اهمیت در روند بازی می‌باشد)

**همسایه دریایی**: مجموعه‌ی همه تایل‌هایی که به یک دریا راه دارند همسایه دریایی اند. مثلا تایل‌های ۸ و ۳۵ و ۵۴ همسایه‌ی دریایی هم هستند.

**کارخانه**: در هر تایل ممکن است یک سری کارخانه ساخته شود. تعریف کارخانه را جلوتر خواهید دید.

**ترین terrain**: هر تایل یک ترین خاص دارد که در طول روند بازی مشخص می‌شود. تعریف ترین و تاثیر آن را جلوتر خواهید دید.

**آب‌و‌هوا weather**: تاثیر و انواع جلوتر گفته خواهد شد.

**گردان battalion**: در هر تایل یک یا چند گردان نظامی مستقر شده که هم حمله و هم دفاع می‌کنند. توضیحات بیشتر داده خواهد شد.

#### دستورات

 با دستور زیر اطلاعات کشور ذکر شده را چاپ می‌کنید:

```
 show detail <country-name>
```

اطلاعات مربوط به کشور ذکر شده باید به صورت زیر چاپ شود.

توجه شود که همانطور که گفتیم، همه چیز به جز نام کشور باید lower-case باشد.

خروجی مثال برای ‌German Reich:
```
<country-name>
leader : <Leader-name-in-lower-case>
stability : <Stability-percentage-without-%-sign>
man power : <manpower-amount>
fuel : <fuel-amount>
sulfur : <sulfur-amount>
steel : <steel-amount>
faction : <faction-names-seperated-by-comma>
puppet : <puppet-names-seperated-by-comma>
```

```
German Reich
leader : hitler
stability : 44
man power : 10000000
fuel : 100000
sulfur : 200000
steel : 300000
faction : nazi,nazgol,nazanin,nanaz
puppet : United States,Soviet Union,Japan
```

در هر بخش اگر مقداری برای چاپ وجود نداشت، آن را خالی بگذارید. مثلا اگر کشور عضو جناحی نبود:
```
faction :
```

اگر اسم کشور جزء گزینه‌های موجود نبود :
```
country doesn't exist
```

با دستور زیر باید نام کشوری که مالک تایل است چاپ شود.
```
tile owner <index>
```

خروجی نمونه برای ایندکس ۴۴ :
```
German Reich
```

با دستور زیر همسایه‌های زمینی تایل به صورت مرتب‌شده باید چاپ شود.
```
tile neighbors <index>
```

خروجی نمونه‌ برای ایندکس ۲۲:
```
16 , 21 , 28 , 43
```

با دستور زیر همسایه‌های دریایی تایل به صورت مرتب‌شده باید چاپ شوند.
```
tile sea neighbors <index>
```

خروجی نمونه برای ایندکس ۸:
```
35 , 36 , 54
```

اگر تایل همسایه‌ی دریایی نداشت:
```
no sea neighbors
```

تمامی دستورات تایل فوق برای اطمینان‌سازی از درست ساخته شدن مپ توسط شماست که تست کیس مربوطه برای چک کردن داده خواهد شد.

با دستور زیر آب و هوای تایل چاپ می‌شود.
```
show weather <tile-index>
```

خروجی:
```
<weather-name>
```

با دستور زیر نوع ترین تایل چاپ می‌شود.
```
show terrain <tile-index>
```

خروجی:
```
<terrain-name>
```

با دستور زیر لیست گردان‌های موجود در تایل گفته‌شده چاپ می‌شود. این دستور یک تفاوت با دستورات بالا دارد و این است که فقط روی تایل‌های کشور خودمان و کشورهای پاپت و کشورهای هم‌جناح کار می‌کند‌. دستورهای قبلی محدودیتی نداشتند.

 توجه شود که عوامل سطح گردان و  مقدار اسیران گرفته‌شده بعد از بردن جنگ بر مقدار power تاثیر می‌گذارد و نباید مقدار اولیه را چاپ کنید. (قدرت پایه را چاپ کنید) همچنین capture ratio نیز به درصد اسارت اشاره دارد.

```
show battalions <tile-index>
```

```
infantry:
<battalion-name> <level> <power> <capture-ratio>
<battalion-name> <level> <power> <capture-ratio>

panzer:
<battalion-name> <level> <power> <capture-ratio>
<battalion-name> <level> <power> <capture-ratio>

airforce:
<battalion-name> <level> <power> <capture-ratio>
<battalion-name> <level> <power> <capture-ratio>
<battalion-name> <level> <power> <capture-ratio>

navy:
<battalion-name> <level> <power> <capture-ratio>
```

لیست گردان‌ها در هر بخش باید به صورت لکسوگرافی روی اسم‌ها باشد.

اگر گردانی برای نمایش وجود نداشت، باز هم new line را رعایت کنید.

اگر به تایل دسترسی نداشتیم:
```
can't show battalions
```


با دستور زیر لیست کارخانه‌های درون یک تایل را چاپ می‌کنیم. این دستور هم مانند لیست گردان‌ها، فقط روی کشور خود و پاپت‌ها و هم‌جناح‌ها قابل انجام است.

```
show factories <tile-index>
```

```
fuel refinery:
<name> <production-left>
<name> <production-left>

steel factory:
<name> <production-left>
<name> <production-left>
<name> <production-left>

sulfur factory:
<name> <production-left>
```

میزان production left در واقع میزان توانایی ماکزیمم استخراج آن کارخانه منهای میزان استخراج شده تا الان است.

لیست کارخانه‌ها در هر بخش باید به صورت لکسوگرافی روی اسم‌ها باشد.

اگر به تایل دسترسی نداشتیم:
```
can't show factories
```

در هر دستور مربوط به تایل اگر ایندکس تایل وجود نداشت پیام زیر چاپ شود:
```
tile doesn't exist
```


### نوع زمین (Terrain)

هر تایل دارای ترین مشخص است که نوع زمین تایل را مشخص می‌کند. نوع زمین روی قدرت حملات، هزینه‌ی ساخت کارخانه و تولید سوخت اثر می‌گذارد.

ترین‌ها از این قبیلند:

- mountain
- forest
- desert
- urban
- plain

تاثیرات ترین‌های مختلف در فرایند بازی به صورت زیر است. این متغیرها در جلوتر توضیح داده شده است.

![terrain](https://s33.picofile.com/file/8483300918/Group_35096_1_.png)

ترین دیفالت برای همه‌ی تایل‌ها plain است.

شما در طول بازی ترین هر تایل را فقط **یک بار** می‌توانید تغییر دهید و پس از آن اگر سعی شد ترین آن تایل عوض شود باید ارور تحویل دهید.

شما فقط اگر کنترل کننده کشوری که صاحب آن تایل است باشید می‌توانید ترین آن تایل را تغییر دهید.

برای انتخاب ترین برای یک تایل دستور زیر را وارد کنید.
```
set terrain <tile-index> <terrain-name>
```

#### **خطاها**
اگر بازیکن کنونی صاحب تایل انتخابی نباشد:
```
you don't own this tile
```

اگر اسم ترین وارد شده اشتباه بود و جز 5 تا گزینه ممکن نبود:
```
terrain doesn't exist
```

اگر یک بار در طول بازی دستور set terrain برای یک تایل اجرا شده باشد و سعی شود دوباره عوض شود باید ارور زیر را چاپ کنید:
```
you can't change terrain twice
```

اگر هیچکدام از خطا های بالا رخ نداد:
```
terrain set successfully
```

### آب و هوا (Weather)

برای هر تایل یک نوع آب و هوا در نظر گرفته می‌شود که خود برای انواع حملات محدودیت ایجاد می‌کند. به طور مثال در هوای برفی یا بارانی ضرایبی روی قدرت‌ها می‌خورد.

آب و هواهای موجود از این قبیل هستند:
- sunny
- rainy
- blizzard
- sandstorm
- fog

![weather](https://s33.picofile.com/file/8483186176/Weather.png)

برای انتخاب آب و هوا برای یک تایل دستور زیر را وارد کنید:
```
set weather <tile-index> <weather-name>
```

#### **خطاها**

اگر بازیکن کنونی صاحب تایل انتخابی نباشد:
```
you don't own this tile
```

اگر اسم آب و هوای وارد شده اشتباه بود و جزء گزینه‌های ممکن نبود:
```
weather doesn't exist
```

اگر هیچکدام از خطاهای بالا رخ نداد.

```
weather set successfully
```

در ابتدای بازی همه‌ی تایل‌ها sunny هستند.

### گردان (Battalion)
در هر تایل واحدهای نظامی به نام گردان قرار دارند که به 4 نوع زیر می‌باشند. از هر نوع می‌توان چند عدد در یک تایل ساخت.
```
infantry
panzer
airforce
navy
```

هر گردان دو نوع مادیفایر دارد که روی امتیازی که از حملات می‌گیرد یا از دست می‌دهد تاثیر خود را می‌گذارد:

**1- قدرت** : هر گردان دارای یک قدرت اولیه است که در جدول زیر مشخص شده‌اند.

![Powers](https://s33.picofile.com/file/8483104600/Group_35098.png)

**2- اسارت** : درصد اسارت یک گردان مشخص میکند که بعد از حمله یا دفاع، چند درصد از قدرت خود را به گردان حریف می‌بازد. در ابتدا این را در نظر داشته باشید که جنگ‌ها درون این بازی فقط بین گردان‌های هم نوع صورت می‌گیرند. پس از یک نبرد، گردان‌های شکست خورده در نبرد مقداری از قدرت خود را طبق فرمول گفته شده از دست می‌دهند. مجموع قدرت‌های از دست داده شده توسط طرف بازنده به مساوات بین گردان‌های برنده شرکت کننده در حمله به مساوات تقسیم می‌شود.

فرمول محاسبه‌ی قدرت اسارت = **قدرت آن گردان** * **درصد اسارت**

حال فرض کنیم 3 تا گردان در طرف بازنده در جنگ شرکت کرده‌اند. فرمول بالا را روی هر 3 گردان جداگانه حساب می‌کنیم و سپس جمع می‌کنیم. فرض می‌کنیم در طرف برنده 2 گردان وجود داشته است. این مقدار جمع محاسبه شده بر 2 تقسیم می‌شود و به قدرت پایه‌ی دو گردان برنده اضافه می‌شود.

در نهایت تمام گردان‌های بازنده حذف می‌شوند.

**قدرت پایه**: مربوط به قدرت اولیه‌ی داده شده در جدول + تاثیر سطح در قدرت + اسیران گرفته شده در مراحل قبل

توجه شود مقادیر محاسبه‌شده در روند بازی که از ضرب و تقسیم حاصل می‌شوند، باید در هر مرحله floor شود.

![Capture](https://s33.picofile.com/file/8483104842/Group_35099.png)

در هر تایل یک مجموعه از انواع مختلف گردان‌ها موجود است. از هر نوع گردان مثلا panzer می‌تواند چند تا در همان تایل موجود باشد که برای تشخیص اسم‌های متفاوت دارند (اسم‌ها را هنگام ساخت گردان دلخواه انتخاب می‌کنید و اگر بین هر گردانی که داخل همان تایل باشد اسمش تکراری بود ارور دریافت می‌کنید. حتی اگر اسم یک گردان panzer با یک airforce که هردو در یک تایل هستند یکی باشد، باید ارور دریافت کنید)

در یک تایل حداکثر ۳ گردان از یک نوع می‌توان قرار داد.

هنگام حمله و دفاع، گردان های از یک نوع با هم مقایسه می‌شوند. یعنی ‌مثلا اگر آلمان در یک تایلی ۳ تا panzer داشت به آمریکا از تایلی که ۲ تا panzer دارد حمله کند:

قدرت آلمان: 3 * 20

قدرت آمریکا‌: 2 * 10

درواقع قدرت‌ها به این روش محاسبه می‌شوند:
```
power = battalion_power * terrain_modifier * weather_modifier
```

این مقدار قدرت برای یک گردان است. مقدار قدرت کل جمع قدرت گردان‌ها است.

درصد ترین و آب و هوا برای navy بی‌تاثیر است. 

درصد ترین برای گردان‌های زمینی attack و برای هوایی‌ها air attack است.

حالا در این مثالی که زدیم تاثیرات دیگر نیست. با این حساب می‌بینیم که آلمان به عنوان حمله کننده در این جنگ پیروز است. اتفاقی که می‌افتد این است که تمام گردان‌های مربوطه یعنی panzer برای آمریکا در آن تایل حذف می‌‌شوند و مقداری از قدرت گردان‌های panzer آمریکایی مطابق توضیحات داده شده بین گردان‌های panzer آلمانی تقسیم می‌شوند:
```
each_panzer_germany += (panzer1_usa_power * capture_percentage + panzer2_usa_power * capture_percentage)/ 2
```

در نهایت تایل مربوطه کشور آمریکا به تصاحب آلمان درمی‌آید (owner) اش عوض می‌شود و کنترل آن به دست بازیکنی که آلمان را کنترل می‌کند می‌افتد.

در مثال ما هر ۳ گردان آلمان قدرتشان در 2  / ((4/10) * 10 +  (4/10) * 10)  محاسبه می‌شود یعنی الان قدرت گردان‌های آلمان که 20 بودند می‌شود 24

این یک مثال خیلی ساده است. ممکن است قدرت هرکدام از panzerها طی آپگریدها و اسارت‌های قبل تغییر کند و متفاوت باشند.

هزینه‌های اضافه کردن گردان جدید به صورت جدول زیر است:

![cost](https://s33.picofile.com/file/8483169118/Battalion_cost.png)

اگر رهبر کشور شما دارای ایدئولوژی دموکراسی باشد تمام هزینه های بالا دو برابر می‌شود. مثلا برای ساخت گردان پنزر باید ۲۰۰۰۰ سوخت ، ۴۰۰۰۰ فولاد ، ۲۰۰۰۰ گوگرد و ۱۰۰۰۰ نفر جمعیت استفاده کند.

#### اضافه کردن گردان جدید به یک تایل

با دستور زیر می‌توانید یک گردان در کشور خود یا پاپت خود یا هم‌جناح خود بسازید:
```
add battalion <tile-index> <battalion-type> <name>
```

مقدار name دلخواه است و صرفا نباید بین هیچکدام از گردان های آن تایل تکراری باشد. حتی اگر آن گردان نوعش فرق کند.

#### **خطاها**

اگر تایل وارد شده برای ما یا پاپت‌ها یا هم‌جناح‌ها نبود یا وجود نداشت:
```
tile is unavailable
```

اگر نوع گردان جز چهار حالت ممکن نبود:
```
you can't use imaginary battalions
```

اگر اسم گردان در همان تایل تکراری بود:
```
battalion name already taken
```

اگر توانایی مالی ساخت گردان را نداشتید:
```
daddy USA plz help us
```

اگر از آن نوع گردان در آن تایل ۳ تا وجود داشت دیگر نمی‌‌توانید از آن نوع گردان در آن تایل بسازید. اگر به ماکسیمم رسیده بودید:
```
you can't add this type of battalion anymore
```

در غیر این صورت:
```
battalion set successfully
```

#### جابه‌جایی گردان به تایل های دیگر

شما با دستور زیر می‌توانید گردان مورد نظر را به یک تایل دیگر از کشور خود یا پاپت یا کشورهای هم‌جناح انتقال دهید. این جابه جایی دوطرفه است یعنی می‌توان از هم‌جناح و پاپت هم به کشور خودمان انتقال دهیم.
```
move battalion <tile-index> <battalion-name> <destination-tile-index>
```

در بخش نام گردان باید نام دلخواهی که برای گردان انتخاب کردید را بگذارید.

#### **خطاها**

گر  تایل وارد شده برای ما یا پاپت‌ها یا هم‌جناح‌ها نبود یا وجود نداشت:
```
tile is unavailable
```

اگر گردانی با اسم برگزیده وجود نداشت:
```
no battalion with the given name
```

اگر در تایل هدف درحال حاضر 3 تا از آن نوع گردان وجود داشته باشد (یعنی به مقدار ماکسیمم رسیده باشیم) باید ارور زیر را دریافت کنیم:

```
maximum battalion of this type in destination exists
```

اگر در تایل هدف گردانی هم‌اسم گردان ما وجود داشت (از هر نوع) ارور زیر را دریافت می‌کنیم:
```
battalion name is already taken in this tile
```

در غیر این صورت:
```
battalion moved successfully
```

#### ارتقای گردان‌ها

گردان ها با پرداخت هزینه‌ای می‌توانند قدرت خود را افزایش دهند. در ابتدای کار هنگام ساخت آن گردان در سطح صفر قرار دارد. هزینه‌های ارتقا و میزان ارتقاها به صورت زیر است:

- هزینه‌ی سطح صفر به یک: نصف هزینه‌ی ساخت اولیه گردان
- هزینه‌ی سطح یک به دو: به اندازه‌ی هزینه‌ی ساخت اولیه گردان
- هزینه‌ی سطح دو به سه: دو برابر هزینه‌ی ساخت اولیه گردان

- میزان ارتقای قدرت سطح صفر به یک: +۵
- میزان ارتقای قدرت سطح یک به دو: +۷
- میزان ارتقای قدرت سطح دو به سه: +۱۰

*‌*از آنجایی که محاسبه‌ی قدرت با وجود تمام این عوامل شاید یکم گیج کننده شده باشد یک بار دیگر از اول روند محاسبه قدرت یک گردان را بررسی می‌کنیم:**

- ابتدا قدرت اولیه‌ی یک گردان را بر حسب کشوری که در آن قرار دارد را ذخیره می‌کنیم.
- مقدار قدرتی که از اسیران جنگ حاصل شده به این مقدار اضافه می‌شود.
- بر اساس level مقداری افزوده می‌شود مثلا اگر سطح دو باشد: power += 5 + 7
- بر اساس نوع گردان، قدرتی که تا این مرحله به دست آوردیم طبق جدول بخش terrain درصد می‌خورد. برای گردان airforce ضریب air attack را تاثیر می‌دهیم و برای panzer و infantry درصد attack را. برای گردان navy درصد terrain را محاسبه نمی‌کنیم. توجه شود terrainی که حمله در آن صورت می‌گیرد ملاک است. یعنی برای مدافع، درصدهای همان terrainی که درون آن است و برای مهاجم درصد terrainی که در تایلی که به آن حمله می‌کند است. 
- همین مسائل گفته شده‌ی terrain، برای آب و هوا نیز صادق است.

**توجه شود که به قدرت محاسبه‌شده تا قبل از اعمال تاثیر terrain را قدرت پایه و قدرت های گفته شده در جدول را قدرت اولیه می‌‌نامیم.**

توانایی ارتقای گردان برای کشور خودمان، پاپت‌هایمان و هم‌جناح‌هایمان وجود دارد. پاپت‌ها نمی‌توانند پاپت کننده را آپگرید کنند.

اگر کشوری دموکراسی بود، همانطور که هزینه‌ی ساخت گردان برایش دو برابر است، هزینه‌ی ارتقا هم دو برابر است.

**نکته**: در تمامی مراحل محاسبه قدرت مقدار ‌int مد نظر است. پس هر جا مقدار اعشاری محاسبه شد، آن را floor بزنید. در هر مرحله باید floor گرفته شود (نه صرفا مقدار نهایی). مثلا اگر بعد از اضافه کردن درصد terrain مقداری ممیز دار حساب کردیم باید آن را floor کنیم و سپس درصد آب و هوا را دخیل کنیم. 

#### دستورات
```
upgrade battalion <tile-index> <battalion-name>
```

اگر تایل داده شده جزء تایل‌های کشور خودمان و هم‌جناح و پاپت نبود:
```
can't upgrade battalions on this tile
```

اگر گردان با نام داده شده در آن تایل وجود نداشت:
```
no battalion with the given name
```

اگر گردان داده شده در حال حاضر در سطح سه است:
```
battalion is on highest level
```

اگر منابع کافی برای آپگرید را نداشتید:
```
aww you can't upgrade your battalion
```

در غیر این صورت:
```
<battalion-name> upgraded to level <level>
```


### جناح (Faction)

کشورها با عضو شدن در یک جناح می‌توانند از یک سری مزایا بهره‌مند شوند:
- ساخت گردان در کشور همدیگر
- جابه‌جایی گردان بین کشورها
- ساخت کارخانه در کشور همدیگر
- ناتوانی در حمله کردن به یکدیگر
- ناتوانی در پاپت کردن یکدیگر

توجه شود که یک کشور می‌تواند عضو چندین جناح باشد.

#### ساخت جناح
برای ساخت جناح دستور زیر را وارد کنید:
```
create faction <name>
```

اگر اسم جناح تکراری بود:
```
faction name already taken
```

در غیر این صورت :
```
faction created successfully
```

کشور بازیکنی که روی آن هستیم به صورت خودکار عضو این جناح می‌شود.

#### عضو شدن در یک جناح
برای عضویت در یک جناح دستور زیر را وارد کنید:
```
join faction <faction-name>
```

اگر جناح وارد شده وجود نداشت:
```
faction doesn't exist
```

در غیر این صورت :
```
<player-country-name> joined <faction-name>
```

#### خروج از جناح 

برای خروج از جناح دستور زیر:
```
leave faction <faction-name>
```

اگر  عضو جناحی با نام داده‌شده نباشید پیام زیر:
```
your country isn't in this faction
```

در غیر این صورت:
```
<country-name> left <faction-name>
```

در تمامی دستورات بالا کشور مد نظر کشوری است که بازیکنی که نوبتش است آن را کنترل می‌کند.

###  کارخانه (Factory)
در هر تایل چندین کارخانه می‌تواند ساخته شود. کارخانه ها کار تولید منابع را دارند. کارخانه‌های بازی در سه حالت زیر هستند:

```
steel factory
sulfur factory
fuel refinery
```

هر کارخانه با مصرف مقداری از جمعیت کشور یا همان man power مقداری منابع استخراج می‌کند. میزان استخراج بر حسب man power در جدول زیر آمده است. همچین هر کارخانه یک حداکثر میزان استخراج دارد که بعد از رسیدن به این مقدار ماکسیمم، کارخانه تخریب و از آن تایل حذف می‌شود.

جدول زیر اطلاعات اولیه‌ی هر کارخانه را شامل هزینه‌ی ساخت و میزان استخراج منابع بر حسب جمعیت مصرفی را نمایش می‌دهد و در نهایت ماکسیمم توانایی استخراج از آن:

![Factories](https://s33.picofile.com/file/8483140650/Group_35100.png)

عواملی بر هزینه‌ی ساخت فکتوری تاثیر دارد:
- در بخش terrain دیدید که درصدی به اسم Factory Cost داریم. پس هزینه ساخت کارخانه بر حسب terrain تایل در درصد Factory Cost ضرب می‌شود.
- اگر کشور کنونی دارای رهبر کمونیست باشد هزینه ساخت کارخانه نصف می‌شود (هر چیزی باشد تقسیم بر دو).

#### ساخت کارخانه
برای ساخت کارخانه در یک تایل دستور زیر را وارد کنید. ایندکس مورد نظر می‌تواند در پاپت و هم‌جناح نیز باشد:
```
build factory <tile-index> <factory-type> <name>
```

مقدار name دلخواه است.

در هر تایل از یک نوع فکتوری حداکثر ۳ تا می‌‌توان ساخت یعنی ۳ تا فولاد ۳ تا گوگرد و ۳ تا سوخت. اگر سعی شود بیشتر ساخته شود باید ارور بدهیم.

#### **خطا‌ها**
اگر ایندکس تایل داده‌شده برای ما یا پاپت یا هم‌جناح نبود یا اصلا وجود نداشت:
```
invalid tile
```

اگر نوع کارخانه اشتباه بود و جزء ۳ گزینه بالا نبود:
```
invalid factory type
```

اگر توان مالی ساخت کارخانه را نداشتیم:
```
not enough money to build factory
```

اگر در حال حاضر ۳ تا کارخانه از آن نوع موجود باشد:
```
factory limit exceeded
```

در غیر این صورت:
```
factory built successfully
```

منابع مورد نیاز برای ساخت کارخانه همواره از کشور بازیکن کنونی کم می‌شود و کاری به کشورهای پاپت و هم‌جناح ندارد.

#### برداشت از کارخانه

برداشت از کارخانه اینگونه است که یک مقدار man power مصرف می‌کنیم و طبق جدول داده شده منابع دریافت می‌کنیم.

در جدول بخش terrain یک مقدار به نام fuel production داریم که برای بعضی terrainها درصد استخراج را کم و بعضا ۰ می‌کند. اگر ۰ باشد اروری دریافت نمی‌کنیم فقط جمعیت هدر می‌دهیم.

اگر در جناحی باشیم که در آن کشورهای کمونیست باشند باید منابع استخراجی با آن‌ها تقسیم شود. اگر یک هم‌جناح کمونیست داشته باشیم، نصف منابع مال ما و نصف به آن کشور می‌رسد. اگر دو تا بودند ثلث به ما و ثلث به هرکدام از آن‌ها و به همین صورت...

برداشت منابع:
```
run factory <tile-index> <name> <man-power-count>
```

مقدار name همان اسم دلخواهی است که به کارخانه موقع ساختن داده‌اید.

#### **خطا‌ها**

اگر ایندکس تایل داده‌شده برای ما یا پاپت یا هم‌جناح نبود یا اصلا وجود نداشت:
```
invalid tile
```

اگر اسم داده‌شده برای کارخانه در آن تایل وجود نداشت:
```
this tile doesn't contain this factory
```

اگر مقدار man power داده شده را نداشتیم:
```
you are poor!
```

اگر مقدار برداشتی عبور کرد از ماکسیمم حدی که از کارخانه می‌تواند برداشت کند، به همان مقدار که می‌توانیم برداشت می‌کنیم و سپس کارخانه را حذف می‌کنیم.

اگر برداشت از پاپت یا هم‌جناح بود، منابع وارد حساب کشور بازیکن کنونی می‌رود و manpower نیر از کشور بازیکن کنونی کم می‌شود.

در نهایت اگر برداشت موفقیت آمیز بود:
```
factory extracted <extraction-amount> of <resource-type>
```

مقدار منابع دریافتی برابر است با manpower * production per manpower. اگر منابع بین کمونیست‌های هم‌جناح تقسیم شد باید همان مقداری که استخراج کرده‌ایم را بنویسیم. نه مقداری که بعد از تقسیم دریافت می‌کنیم.

---

## مکانیک‌های بازی

### حمله به کشورهای دیگر

قابلیت حمله به کشورهای دیگر هم از کشور خود پلیر و هم از کشورهای پاپت آن قابل انجام است.
حمله با گردان‌های infantry و panzer فقط از مرزهای زمینی قابل انجام است. حمله با گردان navy فقط از مرزهای دریایی قابل انجام است. حمله با airforce محدودیتی ندارد. :)

برای حمله به کشورهای دیگر دستور زیر را وارد کنید:
```
attack <our-tile-index> <enemy-tile-index> <battalion-type>
```

همانطور که در بخش battalion توضیح داده شد، حمله بین گردان‌های هم‌جنس برگزار می‌شود. در این دستور با وارد کردن نوع گردان مورد نظر، بین گردان‌های هم‌جنس آن در تایل حریف جنگ برقرار می‌شود.

در نهایت سه حالت پیش می‌آید:

**بردن حمله کننده**: در این صورت تایل کشور مدافع به تصاحب کشور حمله کننده در می‌آید. 

**بردن مدافع**: بر حسب اختلاف قدرتی که با آن پیروز شد مقداری منابع به جیب می‌زند.

**مساوی کردن**‌:  اتفاقی نمی‌افتد.

پس از پایان جنگ گردان‌های مربوطه‌ی کشور بازنده کامل حذف و درصد اسارت آن به کشور رقیب می‌رسد.

اگر حمله کننده پیروز شود بدیهی است که همه چیز مربوط به آن تایل، از جمله گردان‌ها و کارخانه‌ها را تصاحب می‌کند. اما قبل از تصاحب باید گردان بازنده، در تایل کشور مدافع را حذف و اسیرانش را به تایل کشور حمله کننده بدهیم.

مساوی کردن جنگ حالتی خنثی است که در واقع هیچ اتفاقی نمی‌افتد (نه ‌‌stability و نه منابع). صرفا گردان‌های مربوطه‌ی هر دو طرف حذف می‌شوند.

منظور از گردان‌های مربوطه در این بخش همان نوع گردانی است که با آن جنگ را شروع کردیم مثلا ‌‌panzer.

کشور برنده ثبات کسب می‌کند و کشور بازنده ثبات از دست می‌دهد.
این ضرایب به این صورت می‌باشند:
```
stability-winner *= 150%
```

و برای بازنده:
```
stability-loser *= 50%
```

اگر کشور مدافع برنده شد برحسب اختلاف قدرتی که با آن توانست برنده شود مقداری منابع دریافت می‌کند:
```
steel += power-diff * 100
sulfur += power-diff * 100
fuel += power-diff * 1000
```

**نکات**
- شما از کشوری که پاپت شده است نمی‌توانید به کشور پاپت‌کننده حمله کنید، اما برعکس این کار را می‌توانید بکنید. یعنی کشور پاپت کننده می‌تواند به پاپت خود حمله کند.
- بین کشورهای هم‌جناح نمی‌توان جنگ کرد.
- بین دو کشور فاشیست نمی‌توان جنگ کرد.

### خطاها
اگر تایل انتخاب‌شده‌ی اولی در کشور ما یا پاپت ما موجود نبود یا اصلا وجود نداشت:
```
attacker tile unavailable
```

اگر نوع battalion انتخابی در تایل ما وجود نداشت:
```
selected tile doesn't have this type of battalion
```

تایل حریف شرایط مورد نیاز را نداشت یعنی در همسایگی مورد نظر نبود یا برای کشور پاپت‌کننده یا هم‌جناح بود یا حتی اگر اصلا موجود نبود:
```
enemy tile unavailable for attacking
```

اگر هر دو کشور فاشیست باشند‌:
```
we are rivals , not enemies
```

در غیر این صورت نتیجه‌ی جنگ به این صورت مشخص می‌شود:
```
war is over 
winner : <winner-country-name>
loser : <loser-country-name>
```

توجه شود که اگر با کشور پاپت حمله کردیم نام همان کشور پاپت را می‌نویسیم.

اگر جنگ مساوی شد:
```
draw
```


---
### جنگ داخلی (Civil War)
کانسپت جنگ داخلی مانند جنگ عادی است با این تفاوت که بین تایل‌های یک کشور انجام می‌شود. تاثیرات این حملات بر میزان ثبات کشور بیشتر است. تاثیرات اسارت پس از جنگ باقی است ولی تاثیرات ثبات متفاوت است.

بدیهی است مالکیت تایل‌ها عوض نمی‌شود و منابع هم جابه‌جا نمی‌شوند.

تایل بازنده باید به تایل برنده اسیر بدهد و در نهایت گردان‌های مربوطه‌اش پاک شوند.

این دستور فقط برای یک کشور است و ربطی به کشورهای پاپت و هم‌جناح ما ندارد.

اگر رهبر کنونی کشور دارای ایدئولوژی democracy باشد نمی‌توانیم جنگ داخلی کنیم.

برای آغاز جنگ داخلی:
```
start civil war <tile1> <tile2> <battalion type>
```

### خطاها
اگر رهبر کنونی دموکرات بود:
```
no civil war for you
```

اگر تایل های داده شده جزء تایل‌های کشور ما نبودند:
```
invalid tiles for civil war
```

اگر تایل‌های داده شده شروط همسایگی گفته شده در بخش battalion را نداشتند:
```
can't start civil war between these tiles
```

اگر نوع گردان داده شده اشتباه بود یا در تایل اول وجود نداشت:
```
invalid battalion type
```

در غیر این صورت جنگ داخلی با موفقیت انجام می‌شود و تغییرات زیر در ثبات کشور رخ می‌دهد:
```
stability *= 10%
```  

و در نهایت پیام زیر چاپ می‌شود:
```
civil war ended. <winner-tile-index> won.
```

اگر جنگ مساوی شد همان اتفاقات تساوی جنگ بخش قبلی می‌افتد یعنی فقط گردان‌ها حذف می‌شوند:
```
man dige harfi nadaram.
```


---
### پاپت (Puppet)
وقتی یک کشور پاپت یک کشور دیگر می‌شود، کنترل آن کشور به دست کشور پاپت کننده می‌افتد .
در هر بخش داک تاثیرات پاپت گفته شده و اینجا جداگانه به آن‌ها نمی‌پردازیم.

شرایطی که بتوانیم یک کشور را پاپت خود بکنیم این است که:

- دارای  man power بیشتر باشیم.
- هیچکدام از تایل‌های اولیه‌ی کشور ما توسط آن کشور طی جنگ‌ها گرفته نشده باشد.
- حداقل دو تایل از کشور مورد نظر توسط ما طی جنگ گرفته شده باشد.
- رهبر کنونی کشورمان یا communist باشد یا fascist.
- با آن کشور هم‌جناح نباشیم.

هر پنج شرط بالا باید برقرار باشد.

تضمین می‌شود در تست کیس ها پاپت سلسله مراتبی داده نشود. یعنی تستی داده نمی‌شود که در آن ، کشور دارای پاپت، پاپت کشور دیگری شود.

برای پاپت کردن یک کشور دستور زیر را وارد کنید:
```
puppet <country-name>
```

اگر کشور مورد نظر وجود نداشت پیام زیر:
```
country doesn't exist
```

اگر حتی یکی از پنج شرط بالا برقرار نبود:
```
you are not allowed to puppet this country
```

در غیر این صورت:
```
now <country-name> is my puppet yo ho ha ha ha
```

---
### انتخابات (Election)

انتخابات وقتی رخ می‌‌دهد که میزان ثبات یک کشور از حدی کمتر شده باشد. پس از اینکه میزان ثبات از این حد کمتر شد، وارد کردن دستور جدید برای بازیکن قفل می‌شود و مجبور است با وارد کردن دستور زیر رهبر جدید انتخاب کند یا روی بازیکن دیگری switch کند.

بر حسب ایدئولوژی رهبر کنونی کشور، حد ثبات متفاوت است:
- دموکرات: ۵۰٪
- کمونیست: ۶۰٪
- فاشیست: ۳۰٪
```
start election
```

اروری که هنگام قفل بودن بازی دریافت می‌کنید به این صورت است. تنها دستور هایی که هنگام قفل بودن بازی کار می‌کنند، start election و switch است. هر دستور دیگری باید ارور زیر را بدهد.
```
game is locked 
```

پس از وارد کردن دستور start election باید لیست رهبرهای کشورمان به ترتیب **دموکرات -> کومونیست -> فاشیست** به این صورت چاپ شود.
```
Available leaders:
<democrat leader>
<communist leader>
<fascist leader>
```

توجه شود اسم رهبران باید lower-case باشد.

سپس نام رهبر منتخب را به صورت lower-case به برنامه ‌می‌دهیم و بازی unlock می‌شود. تنها مواردی که در این روند تغییر می‌کنند رهبر و ثبات است.

ثبات کشور بعد از انتخاب رهبر جدید به 100% برمی‌گردد.

اگر نام رهبر اشتباه وارد شود ارور زیر را بدهید:
```
leader doesn't exist
```

دستور start election در هر مرحله از بازی قابل انجام است. اما زمانی اجباری است که ثبات از حد نصاب پایین‌تر باشد.

---
### سیستم امتیازبندی

پس از بردن جنگ‌ها میزانی امتیاز دریافت و پس از باختن میزانی امتیاز از دست می‌‌دهیم. امتیازها مربوط به بازی‌ای که دارد اجرا می‌شود نیست، بلکه برای یوزرهایی که در بازی‌اند ذخیره می‌شود. یعنی ممکن است یک یوزر امتیاز کلش را طی چندین بازی به دست آورده باشد.

سیستم دریافت امتیاز در بازی به این شکل است:

بردن با هر نوع گردان یک ضریب خاص دارد:
- infantry : 5
- panzer : 7
- navy : 10
- airforce : 15

برای برنده: میزان اختلاف قدرتی که جنگ را با آن برده * 10 * ضریب گردان

برای بازنده: میزان اختلاف قدرتی که جنگ را با آن باخته * 5 * ضریب گردان

این مقدار برای یوزر برنده جمع و برای یوزر بازنده منها می‌شود.

امتیاز حساب‌شده در انتهای بازی بر حسب ایدئولوژی رهبر می‌تواند تغییر کند. کشوری که موقع وارد شدن دستور اتمام بازی، دارای رهبر فاشیست باشد، امتیاز دریافت‌شده‌اش دو برابر می‌شود و به یوزر داده می‌شود.

امتیازها را در منوی لیدربورد، بعد از اتمام بازی می‌توانید مشاهده کنید.

---
### اتمام بازی و خروج به صفحه اصلی

بازی هیچگاه به صورت اتوماتیک تمام نمی‌شود.

با دستور زیر بازی را تمام می‌کنید و وارد منوی اصلی می‌شوید:
```
sadagha allah ol aliol azim
```

## تست‌کیس‌ها
[Menu Test Case In](https://s33.picofile.com/file/8483338984/2_in.txt.html)

[Menu Test Case Out](https://s33.picofile.com/file/8483338992/2_out.txt.html)

[Full Test Case In](https://s33.picofile.com/file/8483338976/4_in.txt.html)

[Full Test Case Out](https://s33.picofile.com/file/8483339000/4_out.txt.html)