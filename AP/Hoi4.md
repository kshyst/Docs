توضیحات بازی
قلبی از آهن (Hearts of Iron) یک بازی گرند استراتژیک است که هدف مدیریت منابع اقتصادی، انسانی و طبیعی یک کشور است و قرار می‌باشد که از نظر سیاسی، اقتصادی و نظامی سرزمین خود را به قوی‌ترین کشور تبدیل کنید. گیم‌پلی اصلی این بازی دارای بی‌نهایت پیچیدگی است. شما قرار است یک نسخه ساده‌شده‌ی آن را پیاده‌سازی بکنید.

HOI4

هر بازیکن در ابتدا بازی یک کشور را برای مدیریت انتخاب می‌کند و هر کشور دارای چندین منطقه است که در طول بازی خصوصیات آن‌ها معین می‌شوند. در بازی اصلی شما تمام کشور های موجود در دوران جنگ جهانی دوم را می‌توانید انتخاب کنید. برای سادگی ما نقشه زیر را برای بازی در نظر گرفته‌ایم.

world map

در هر یک از بخش‌های برنامه اگر عبارتی وارد شد، به ترتیب ذکر شده خطا‌ها را چک کنید و فقط اولین خطای رخ داده را چاپ کنید. اگر که دستور متناظر با آن وجود نداشت عبارت

invalid command
Plain text
را خروجی دهید.

توجه شود که دستورات ممکن است با white space اضافه داده شوند. توجه شود خطاهای هر بخش به همان ترتیبی که اینجا بیان شده است چک می‌شوند و فقط لازم است اولین خطا را چک بنمایید.

همچنین در هر منویی که باشیم با دستور

show current menu
Plain text
می‌توانیم منویی که درحال حاضر در آن هستیم را مشاهده کنیم که یکی از حالت‌های زیر را دارد:

login menu
signup menu
profile menu
main menu
game menu
Plain text
ترتیب منو ها پس از آغاز برنامه به این صورت است : signup menu -> login menu -> main menu -> game menu ورود به profile menu از main menu و خروج از آن هم به main menu است پس به منو های دیگر راه ندارد.

برای خروج از main menu و ورود به signup menu دستور

logout
Plain text
وارد کنید.

همچنین برای خروج از profile menu و بازگشت به main menu دستور

back
Plain text
و در صفحه signup menu برای خروج کامل و اتمام پردازش برنامه دستور

exit
Plain text
باقی دستورات در بخش مربوطه گفته خواهد شد.

منوی ثبت‌نام (signup menu)
ثبت‌نام
در این منو هر کاربر می تواند با دستور

register -username <username> -password <password> -email <email> 
Plain text
به عنوان کاربر جدید به بازی اضافه شود و وارد منوی login بشود.

بخش username تنها می‌تواند شامل حروف کوچک و بزرگ ٰانگلیسی ، عدد و همچین آندرلاین باشد.
حرف اول username نمیتواند آندرلاین یا عدد باشد.
بخش password باید دارای حداقل 8 کاراکتر و حداکثر 20 کاراکتر باشد و همچنین حداقل یک کاراکتر از میان کاراکترهای %@#$^&! را داشته باشد. رمز عبور نباید با کاراکتری غیر از حروف کوچک یا بزرگ انگلیسی شروع شود و نباید دارای فاصله یا کاراکتر اسپیس باشد.
بخش ایمیل باید به به صورت mail>@<domain>.com> باشد و بخش های mail و domain نباید خالی باشند. بخش mail آن نیز تنها می‌تواند دارای حروف کوچک و بزرگ انگلیسی، اعداد و "." باشد. ایمیل نباید بیش از یکبار کاراکتر . را داشته باشد.
خطاها
اگر username دارای ساختار نادرست بود عبارت زیر چاپ شود:

invalid username
Plain text
اگر کاربری با username گفته شده وجود داشت:

username is already taken
Plain text
اگر password کوتاه بود:

password is short
Plain text
اگر password بلند بود:

password is long
Plain text
اگر password دارای کارکتر اسپیس یا فاصله بود:

don't use whitespace in password   
Plain text
اگر password با حروفی بجز حروف کوچک و بزرگ انگلیسی شروع شد:

password must start with English letters
Plain text
اگر پسورد دارای هیچکدام از %@#$^&! نبود:

password doesn't have special characters
Plain text
اگر ایمیل دارای ساختار گفته شده نبود:

invalid email format
Plain text
در غیر این صورت ثبت‌نام با موفقیت انجام می‌شود و پیام زیر چاپ میشود و به طور خودکار وارد منوی لاگین (login) می‌شویم.

user registered successfully
Plain text
رفتن به منوی لاگین (login menu)
برای ورود مستقیم به منوی لاگین بدون ثبت‌نام کردن:

login
Plain text
منوی لاگین (login menu)
ورود کاربر
کاربر می‌تواند با وارد کردن دستور :

login -username <username> -password <password>
Plain text
وارد منوی اصلی (main menu) شود

خطاها :
اگر کاربری با نام کاربری داده شده وجود نداشت باید خطای زیر را نمایش داده شود:

username doesn't exist!
Plain text
اگر کلمه عبور داده شده اشتباه بود باید خطای زیر را نمایش دهید:

password is incorrect!
Plain text
در صورتی که کاربر با خطایی مواجه نشد، با موفقیت وارد می‌شود و پس از چاپ پیام زیر، وارد منوی اصلی می‌شود.

user logged in successfully
Plain text
فراموشی رمز عبور
کاربر می‌تواند با دستور زیر از قابلیت فراموشی رمز عبور استفاده کند و رمز عبور خود را ببیند:

forget-password -username <username> -email <email>
Plain text
خطاها :
اگر کاربری با نام کاربری داده شده وجود نداشت باید خطای زیر را نمایش داده شود :

username doesn't exist!
Plain text
اگر ایمیل داده شده اشتباه بود باید خطای زیر را نمایش دهید :

email doesn't match!
Plain text
در صورتی که کاربر با خطایی مواجه نشد، رمز عبور کاربر در قالب زیر نمایش داده شود.

password: <password>
Plain text
منوی اصلی بازی (main menu)
پس از لاگین کردن وارد این منو می‌شوید .

برای ورود به منوی پروفایل دستور زیر را بزنید:

profile
Plain text
برای شروع کردن بازی لازم دستور زیر را وارد کرده و چند یوزر حریف را به اختیار برای بازی کردن انتخاب کنید. توجه کنید که انتخاب کردن یوزر حریف اختیاری است و میتوانید بین 0 تا 4 یوزر موجود را که از پیش ثبت‌نام کرده‌اند انتخاب کنیم. باقی بازیکنان بازی به صورت مهمان و با آیدی های guest1 , guest2 ... در می‌آیند.

play <user1> <user2> <user3> <user4>
Plain text
برای مثال به عنوان یوزر "kiarash" لاگین هستیم و می‌خواهیم با 2 یوزر دیگر بازی را شروع کنیم :

play amirhossein sana
Plain text
آن وقت بازی با این بازیکنان به ترتیب شروع می‌شود و هر بازیکن کشورش را انتخاب می‌کند:

kiarash
amirhossein
sana
guest1
guest2
Plain text
در رابطه با بازیکنان guest در بخش توضیحات game menu بیشتر توضیح داده خواهد شد.

*خطاها *
اگر یکی از یوزر های انتخاب شده موجود نبود خطای زیر:

select between available users
Plain text
اگر یوزر تکراری در لیست وارد شده وجود داشت خطای زیر:

users must be distinct
Plain text
اگر حداقل یکی از یوزرهای وارد شده همان یوزری باشد که با آن لاگین کرده‌ایم خطای زیر:

you can't choose urself
Plain text
در نهایت اگر خطایی رخ نداد پس از چاپ پیغام زیر وارد game menu می‌شوید:

aghaaz faAliat
Plain text
منوی پروفایل (profile menu)
---------------------------------------------------------------------------------------فعلا اینجا اسکیپ

منوی بازی (game menu)
در ابتدای بازی هر بازیکن به ترتیب گفته شده (ابتدا بازیکن لاگین شده -> بازیکنان انتخابی -> مهمانان) باید کشور خود را انتخاب کنند. انتخاب کشور بین گزینه های زیر است:

German Reich
United States
Soviet Union
Japan
United Kingdom
Plain text
در شروع بازی عبارت زیر به ازای هر بازیکن چاپ می‌شود و بازیکنان کشور خود را انتخاب می‌کنند.

choosing country for <username>:
Plain text
و هرکس باید اسم کشور خود را در نوبت خود چاپ کند.

خطاها
اگر اسم کشور انتخابی بین ۵ عبارت بالا نبود:

wrong country name
Plain text
اگر بازیکنی کشور تکراری انتخاب بکند:

country already taken
Plain text
تعویض بازیکن
در ابتدای بازی شما به عنوان یوزر اول بازی می‌کنید. یعنی کنترل کشوری که یوزر اول انتخاب کرده است را در دست دارید و دستورات وارد شده شما برای آن کشور کار می‌کند. برای رفتن روی بازیکنان دیگر و بدست گیری کنترل کشور های دیگر:

switch player <username>
Plain text
خطاها
اگر یوزرنیم وارد شده ناموجود بود:

player doesn't exist
Plain text
اگر بازیکن اسم خودش را وارد کرد:

you can't switch to yourself
Plain text
زمین‌ها (Tiles)
نقشه‌ی بازی رو دوباره برای راحتی اینجا می‌گذاریم:map

همانطور که میبینید بازی ۵۶ زمین دارد که هرکدام جز مرز یک کشور مشخص است. زمین های بازی برای راحتی کار شما از پیش تعیین شده و شما برای کار کردن با این تایل‌ها باید یک سری چیز برای هرکدام مشخص کنید.

ایندکس: هر تایل با یک عدد شناخته می‌شود که در طول بازی با این عدد ها تایل‌ها را دستکاری می‌کنیم. مثلا شوروی تایل های ۱ تا ۱۶ را در ابتدای بازی دارد.

مالک: هر تایل مال یک کشور است که در طول روند بازی مالک ممکن است تغییر کند. مالکان اولیه در نقشه مشخص هستند.

همسایه زمینی: تایل‌ها با تایلی که با آن ضلع مشترک دارند همسایه زمینی‌اند. (راس مشترک فاقد هرگونه اهمیت در روند بازی می‌باشد)

همسایه دریایی: مجموعه همه تایل‌هایی که به یک دریا راه دارند همسایه دریایی اند مثلا تایل ۸ و ۳۵ و ۵۴ همسایه دریایی هم اند.

کارخانجات: در هر تایل ممکن است یک سری کارخانه ساخته شود. تعریف کارخانه را جلوتر خواهید دید.

ترین terrain: هر تایل یک ترین خاص دارد که در طول روند بازی مشخص می‌شود. تعریف ترین و تاثیر آن را جلوتر خواهید دید.

آب‌و‌هوا weather: تاثیر و انواع جلوتر گفته خواهد شد.

گردان battalion:در هر تایل یک یا چند گردان نظامی مستقر شده که هم حمله و هم دفاع میکنند. توضیحات بیشتر داده خواهد شد.

دستورات
با دستور زیر باید نام کشوری که مالک تایل است چاپ شود.

tile owner <index>
Plain text
خروجی نمونه برای ایندکس ۴۴ :

German Reich
Plain text
با دستور زیر همسایه های زمینی تایل سورت شده باید چاپ شود.

tile neighbors <index>
Plain text
خروجی نمونه‌ برای ایندکس ۲۲:

16 , 21 , 28 , 43
Plain text
با دستور زیر همسایه های دریایی تایل سورت شده باید چاپ شوند.

tile sea neighbors <index>
Plain text
خروجی نمونه برای ایندکس ۸:

35 , 36 , 54
Plain text
تمامی دستورات تایل فوق برای اطمینان‌سازی از درست ساخته شدن مپ توسط شماست که تست کیس مربوطه برای چک کردن داده خواهد شد.

------------------------------------------------------- چاپ کردن چیزای دیگه تایل

در هر دستور مربوط به تایل اگر ایندکس تایل وجود نداشت پیام زیر چاپ شود.

tile doesn't exist
Plain text
نوع زمین (Terrain)
هر تایل دارای ترین مشخص است که نوع زمین تایل را مشخص می‌کند. نوع زمین روی قدرت حملات، هزینه‌ی ساخت کارخانه و تولید سوخت اثر می‌گذارد.

ترین ها ازین قبیلند:

Mountain
Forrest
Desert
Urban
Plain
تاثیرات ترین های مختلف در فرایند بازی به صورت زیر است. این متغیر ها در جلوتر توضیح داده خواهد شده است.

terrain

برای انتخاب ترین برای یک تایل دستور زیر را وارد کنید.

set terrain <tile-index> <terrain-name>
Plain text
خطاها
اگر بازیکن کنونی صاحب تایل انتخابی نباشد:

you don't own this tile
Plain text
اگر ایندکس انتخاب شده موجود نبود:

tile doesn't exist
Plain text
اگر اسم ترین وارد شده اشتباه بود و جز 5 تا گزینه ممکن نبود:

terrain doesn't exists
Plain text
اگر هیچکدام از خطا های بالا رخ نداد.

terrain set successfully
Plain text
ترین دیفالت برای همه تایل‌ها plain است.

آب و هوا (weather)
برای هر تایل یک نوع آب و هوا در نظر گرفته می‌شود که خود برای انواع حملات محدودیت ایجاد می‌کند. به طور مثال در هوای برفی یا بارانی مقصد نمی‌توان آن را هوایی مورد هجوم قرار داد.

برای انتخاب آب و هوا برای یک تایل دستور زیر را وارد کنید:

set weather <tile-index> <weather-name>
Plain text
خطاها
اگر بازیکن کنونی صاحب تایل انتخابی نباشد:

you don't own this tile
Plain text
اگر ایندکس انتخاب شده موجود نبود:

tile doesn't exist
Plain text
اگر اسم آب و هوای وارد شده اشتباه بود و جزء گزینه‌های ممکن نبود:

weather doesn't exist
Plain text
اگر هیچکدام از خطا های بالا رخ نداد.

weather set successfully
Plain text
گردان (battalion)
هر تایل واحد حمله‌ی مربوط به خود به نام گردان را دارا می‌باشد. این گردان می‌تواند هر یک از حالات زیر را داشته باشد:

infantry
cavalry
panzer
airforce
navy
Plain text
نوع گردان هر تایل را با دستور زیر تعیین می‌کنیم وگرنه از حالت دیفالت استفاده می‌کنیم:

set battalion <tile-index> <battalion-name>
Plain text
هر گردان سه نوع قدرت نظامی دارد که روی امتیازی که از حملات می‌گیرد یا از دست می‌دهد تاثیر خود را می‌گذارد:

قدرت حمله: با توجه به این قدرت روی امتیاز کاسته شده از تایل مورد هجوم اثر می‌گذارد.

قدرت دفاع: با این توانایی می‌تواند جلوی حملات تایل‌های دیگر را بگیرد و از تخریب آن بکاهد.

قدرت اسارت: قدرت به اسارت گرفتن بخشی از گردان تایلی که به آن تهاجم را انجام می‌دهد. در واقع عدد مربوط به آن نسبت به اسارت گرفته شده در آن تایل بعد از اتک را نشان می‌دهد که به صورت درصدی بیان می‌شود.

هر یک از این اعداد را با دستورات زیر تغییر می‌دهیم، در غیر اینصورت عدد پیش‌فرض گفته شده در نظر گرفته می‌شود:

set attack <tile-index> <attack-number>
Plain text
set defense <tile-index> <defense-number>
Plain text
set capture-ratio <tile-index> <capture-ratio>
Plain text
هر گردان یک سری هزینه و نیاز روی دوش دولت مرکزی می‌گذارد که با استفاده از داد و ستد کالا تامین می‌شوند. هزینه‌ها شامل حقوق نیروی انسانی، سلاح و سوخت می‌باشد.

خطاها
اگر بازیکن کنونی صاحب تایل انتخابی نباشد:

you don't own this tile
Plain text
اگر ایندکس انتخاب شده موجود نبود:

tile doesn't exist
Plain text
اگر اسم نوع گردان وارد شده اشتباه بود و جز 5 تا گزینه ممکن نبود:

battalion doesn't exists